{"remainingRequest":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\src\\views\\psytest\\TestList.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\src\\views\\psytest\\TestList.vue","mtime":1576918820062},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\css-loader\\index.js","mtime":1573722966629},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1573725517685},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\postcss-loader\\src\\index.js","mtime":1573722998988},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\less-loader\\dist\\cjs.js","mtime":1573723014394},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.examination-content{\n  padding-bottom: 60px;\n  h4{\n    font-size: .8rem;\n    font-weight: 400;\n    text-align: center;\n    padding: 5px 0;\n  }\n  .examination-info{\n    font-size: .6rem;\n    border-top: 1px solid #eee;\n    border-bottom: 1px solid #eee;\n    padding: 5px 10px;\n    span{\n      margin-right: 4%;\n    }\n  }\n  .examination-question-list{\n    padding:  0 10px 20px;\n    font-size: .7rem;\n    h5{\n      font-size: .75rem;\n      font-weight: 400;\n      line-height: 20px;\n      margin-top: 15px;\n    }\n    .answer-list{\n      padding: 8px 0 0 6px;\n      line-height: normal;\n      p{\n        margin-bottom: 8px;\n      }\n    }\n    .check-content {\n      padding: 5px 0 8px;\n      border-bottom: 1px solid #eee;\n      span{\n        padding: 5px 10px;\n        &.active .iconfont:before{\n          content: '\\e60f';\n          color: #09BB07;\n        }\n      }\n      .iconfont{\n        font-size: 1rem;\n        margin-right: 2px;\n        vertical-align: middle;\n        &:before{\n          color: #c9c9c9;\n        }\n      }\n    }\n  }\n}\n.cutdown-submit-wrap{\n  position: fixed;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  padding: 5px 10px;\n  border-top: 1px solid #eee;\n  .examination-num{\n    overflow: hidden;\n    .num-item{\n      float: left;\n      display: inline-block;\n      font-size: .6rem;\n      padding: 1px 8px;\n      margin-right: 4px;\n      margin-bottom: 6px;\n      border: 1px solid #ccc;\n      &.selected{\n        color: #fff;\n        border-color: #09BB07;\n        background-color: #09BB07;\n      }\n\n    }\n  }\n  .cutdown-content{\n    margin-top: 5px;\n    .cutdown-text{\n      font-size: .6rem;\n      .red{\n        font-size: .8rem;\n      }\n    }\n    .examination-submit-btn{\n      float: right;\n      color: #fff;\n      background-color: #f00;\n      &:after{\n        border: none;\n      }\n    }\n  }\n}\n",{"version":3,"sources":["TestList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestList.vue","sourceRoot":"src/views/psytest","sourcesContent":["<template>\n  <div class=\"examination-wrap bg-white\">\n    <div class=\"examination-content\">\n      <h4 class=\"examination-title\">考试标题</h4>\n      <p class=\"examination-info\">\n        <span>题量：9</span>\n        <span>总分：100</span>\n        <span>合格：60</span>\n        <span>答题时间：{{duration}}</span>\n      </p>\n      <ul class=\"examination-question-list\">\n        <li  :id=\"'anchor-'+num\" v-for=\"(items,num) in testList\" :key=\"num\">\n          <h5>{{ num +1 }}．{{items.title}}\n            <span  v-if=\"items.type === 0\">［判断题］</span>\n            <span  v-if=\"items.type === 1\">［单选题］</span>\n            <span  v-if=\"items.type === 2\">［多选题］</span>\n          </h5>\n          <div v-if=\"items.type == 0\">\n            <div class=\"answer-list\">\n              <p>A. 正确</p>\n              <p>B. 错误</p>\n            </div>\n            <div class=\"check-content\">\n              <span :class=\"{active: isSelected(items, 0)}\" @click=\"selectOption(items,num,0)\"><i class=\"iconfont icon-gouxuan\"></i>A</span>\n              <span :class=\"{active: isSelected(items, 1)}\" @click=\"selectOption(items,num,1)\"><i class=\"iconfont icon-gouxuan\"></i>B</span>\n            </div>\n          </div>\n          <div v-else>\n            <div class=\"answer-list\">\n              <p v-for=\"(item, index) in items.options\" :key=\"index\">{{item}}</p>\n            </div>\n            <div class=\"check-content\">\n              <span v-for=\"(item, index) in items.options\" :key=\"index\" :class=\"{active: isSelected(items, index)}\" @click=\"selectOption(items,num,index)\"><i class=\"iconfont icon-gouxuan\"></i>{{numberToLetter(index)}}</span>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"cutdown-submit-wrap bg-white\">\n      <div class=\"examination-num\">\n        <a href=\"javascript:;\" @click=\"selectIndex(index)\" class=\"num-item\" v-for=\"(item,index) in testList\" :class=\"{selected: isDone(item), current: index === currentIndex}\">{{index + 1}}</a>\n      </div>\n      <div class=\"cutdown-content\">\n        <span class=\"cutdown-text\">剩余时间：<span class=\"red\">{{rest}}</span></span>\n        <x-button mini class=\"examination-submit-btn\" @click.native=\"submitAnswer\">提交试卷</x-button>\n      </div>\n    </div>\n    <!-- 提示弹窗  start-->\n    <div v-transfer-dom>\n      <confirm v-model=\"confirmShow\" :cancel-text=\"readWrongText\" :title=\"confirmTitle\" @on-cancel=\"onCancel\" @on-confirm=\"onConfirm\">\n        <p style=\"text-align:center;\">{{ confirmText }}</p>\n      </confirm>\n    </div>\n    <div v-transfer-dom>\n      <alert v-model=\"alertShow\" :title=\"alertTitle\" @on-hide=\"onHide\"> {{ alertText }}</alert>\n    </div>\n    <!-- 提示弹窗  end-->\n  </div>\n</template>\n\n<script>\n  // 多选题数组选项处理\n  Array.prototype.contains = function (obj) {\n    var i = this.length\n    while (i--) {\n      if (this[i] === obj) {\n        return true\n      }\n    }\n    return false\n  }\n  import { XButton, Confirm, Alert, TransferDomDirective as TransferDom } from 'vux'\n  export default {\n    directives: {\n      TransferDom\n    },\n    components: {\n      XButton,\n      Confirm,\n      Alert\n    },\n    data () {\n      return {\n        alertShow: false,\n        alertTitle: '提示',\n        alertText: '',\n        alertType: 0,\n        confirmShow: false,\n        confirmTitle: '提示',\n        confirmText: '',\n        confirmType: 0,\n        readWrongText: '取消',\n        currentIndex: 0,\n        time: '1800',\n        endTime: null,\n        testList: [\n          {\n            type: 0,\n            title: 'title',\n            userAnswer: null\n          },\n          {\n            type: 1,\n            title: 'title',\n            options:[\n              'A. 选项',\n              'B. 选项',\n              'C. 选项',\n              'D. 选项'\n            ],\n            userAnswer: null\n          },\n          {\n            type: 2,\n            title: 'title',\n            options:[\n              'A. 选项',\n              'B. 选项',\n              'C. 选项',\n              'D. 选项'\n            ],\n            userAnswer: null\n          },\n\n        ]\n      }\n    },\n    computed: {\n      duration () {\n        return this.fomart(this.time);\n      },\n      rest () {\n        return this.fomart(this.endTime);\n      }\n    },\n    mounted() {\n      this.$nextTick(function () {\n        this.updateTime();\n      })\n    },\n    methods: {\n      isSelected(item, index) {\n        if (item.type === 2) {\n          if (!item.userAnswer) {\n            return false\n          }\n          for (var answer of item.userAnswer) {\n            if (answer === index) {\n              return true\n            }\n          }\n          return false\n        } else {\n          return item.userAnswer === index\n        }\n        return false\n      },\n      isDone(item) {\n        if (item.type === 0) {\n          return item.userAnswer === 0 || item.userAnswer === 1\n        }\n        if (item.type === 1) {\n          return item.userAnswer || item.userAnswer === 0\n        }\n        if (item.type === 2) {\n          return item.userAnswer && item.userAnswer.length\n        }\n        return false\n      },\n      selectOption(item, num, index) {\n        this.currentIndex = num;\n        if (item.type === 2) {\n          var userAnswer = this.testList[this.currentIndex].userAnswer\n          if (!userAnswer) {\n            userAnswer = []\n          }\n          if (userAnswer.contains(index)) {\n            for (var i = 0; i < userAnswer.length; i++) {\n              if (userAnswer[i] === index) {\n                userAnswer.splice(i, 1)\n                return\n              }\n            }\n          }\n          userAnswer.push(index)\n\n          userAnswer = userAnswer.sort()\n          this.testList[this.currentIndex].userAnswer = userAnswer\n        } else {\n          this.testList[this.currentIndex].userAnswer = index\n        }\n      },\n      selectIndex(index) {\n        this.currentIndex = index\n      },\n      // 锚点选中和定位\n      selectIndex(index) {\n        this.currentIndex = index;\n        var anchor = this.$el.querySelector('#anchor-'+index);\n        document.querySelector('.content-scroll').scrollTop = anchor.offsetTop; // 这里的 document.querySelector('.content-scroll') 是一个div容器，如果想让window滚动定位，换成window就好了\n      },\n      submitAnswer() {\n        var that = this,answerArr = [],answerLen;\n        this.testList.forEach(function (item, index) {\n          if (item.userAnswer || item.userAnswer === 0) {\n            if (item.type === 1 || item.type === 0) {\n              answerArr.push(that.numberToLetter(item.userAnswer))\n            } else if (item.type === 2) {\n              var arr = [];\n              item.userAnswer.forEach(function (answer, index) {\n                arr.push(that.numberToLetter(answer))\n              })\n              answerArr.push(arr)\n            }\n          }\n        })\n        answerLen = this.testList.length - answerArr.length;\n        if (answerLen == 0) {\n          this.confirmShow = !this.confirmShow;\n          this.confirmText = '您确认提交吗!';\n//\t\t\t\tconsole.log(this.fomart(this.time - this.endTime))\n//              console.log(answerArr)\n        } else {\n          this.alertShow = !this.alertShow;\n          this.alertText = '您还有' + answerLen + '题未做!';\n        }\n      },\n      updateTime() {\n        var that = this,time = this.time;\n        this.timer = setInterval(function () {\n          time = time - 1;\n          that.endTime = time;\n          if (time === 0){\n            clearInterval(that.timer);\n            that.alertShow = !this.alertShow;\n            that.alertType = 1;\n            that.alertText = '考试时间结束！';\n          }\n        }, 1000)\n      },\n      fomart(time) {\n        var h,m,s;\n        h = Math.floor(time / 3600);\n        m = Math.floor(time / 60 % 60);\n        s = Math.floor(time % 60);\n        h < 10 ? h = '0' + h : h = h;\n        m < 10 ? m = '0' + m : m = m;\n        s < 10 ? s = '0' + s : s = s;\n        return h + ':' + m + ':' + s;\n      },\n      numberToLetter(number) {\n        var arr = 'ABCD'\n        return arr[number]\n      },\n      onConfirm() {\n        var that = this;\n        if ( this.confirmType === 1 ){\n          this.$router.push({path: '/'})\n        } else {\n          clearInterval(this.timer);\n          setTimeout(function() {\n            that.viewScore();\n          },500)\n        }\n\n      },\n      viewScore() {\n        this.confirmShow = !this.confirmShow;\n        this.confirmType = 1;\n        this.confirmTitle = '成绩';\n        this.confirmText = '您的得分：70';\n        this.readWrongText = '查看错题';\n      },\n      onCancel() {\n        if ( this.confirmType === 1 ){\n          alert('进入错题中...')\n        }\n      },\n      onHide() {\n        if (this.alertType === 1){\n          this.$router.push({path: '/'})\n        }\n      }\n\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  .examination-content{\n    padding-bottom: 60px;\n    h4{\n      font-size: .8rem;\n      font-weight: 400;\n      text-align: center;\n      padding: 5px 0;\n    }\n    .examination-info{\n      font-size: .6rem;\n      border-top: 1px solid #eee;\n      border-bottom: 1px solid #eee;\n      padding: 5px 10px;\n      span{\n        margin-right: 4%;\n      }\n    }\n    .examination-question-list{\n      padding:  0 10px 20px;\n      font-size: .7rem;\n      h5{\n        font-size: .75rem;\n        font-weight: 400;\n        line-height: 20px;\n        margin-top: 15px;\n      }\n      .answer-list{\n        padding: 8px 0 0 6px;\n        line-height: normal;\n        p{\n          margin-bottom: 8px;\n        }\n      }\n      .check-content {\n        padding: 5px 0 8px;\n        border-bottom: 1px solid #eee;\n        span{\n          padding: 5px 10px;\n          &.active .iconfont:before{\n            content: '\\e60f';\n            color: #09BB07;\n          }\n        }\n        .iconfont{\n          font-size: 1rem;\n          margin-right: 2px;\n          vertical-align: middle;\n          &:before{\n            color: #c9c9c9;\n          }\n        }\n      }\n    }\n  }\n  .cutdown-submit-wrap{\n    position: fixed;\n    bottom: 50px;\n    left: 0;\n    right: 0;\n    padding: 5px 10px;\n    border-top: 1px solid #eee;\n    .examination-num{\n      overflow: hidden;\n      .num-item{\n        float: left;\n        display: inline-block;\n        font-size: .6rem;\n        padding: 1px 8px;\n        margin-right: 4px;\n        margin-bottom: 6px;\n        border: 1px solid #ccc;\n        &.selected{\n          color: #fff;\n          border-color: #09BB07;\n          background-color: #09BB07;\n        }\n\n      }\n    }\n    .cutdown-content{\n      margin-top: 5px;\n      .cutdown-text{\n        font-size: .6rem;\n        .red{\n          font-size: .8rem;\n        }\n      }\n      .examination-submit-btn{\n        float: right;\n        color: #fff;\n        background-color: #f00;\n        &:after{\n          border: none;\n        }\n      }\n    }\n  }\n</style>"]}]}