{"remainingRequest":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\src\\views\\user\\Homepage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\src\\views\\user\\Homepage.vue","mtime":1577051695604},{"path":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1573725483614},{"path":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche_front_end\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {timeFix} from '@/utils/util'\nimport {mapGetters} from 'vuex'\n\nimport {PageView} from '@/layouts'\nimport HeadInfo from '@/components/tools/HeadInfo'\nimport {Radar} from '@/components'\n\nimport {getRoleList, getServiceList} from '@/api/manage'\n\nconst DataSet = require('@antv/data-set')\n\nexport default {\n  name: 'Homepage',\n  components: {\n    PageView,\n    HeadInfo,\n    Radar\n  },\n  data() {\n    return {\n      timeFix: timeFix(),\n      avatar: '',\n      user: {},\n\n      projects: [],\n      loading: true,\n      radarLoading: true,\n      activities: [],\n      teams: [],\n\n    }\n  },\n  computed: {\n    userInfo() {\n      return this.$store.getters.userInfo\n    }\n  },\n  created() {\n    this.user = this.userInfo\n    this.avatar = this.userInfo.avatar\n\n    getRoleList().then(res => {\n      console.log('workplace -> call getRoleList()', res)\n    })\n\n    getServiceList().then(res => {\n      console.log('workplace -> call getServiceList()', res)\n    })\n  },\n  mounted() {\n    this.getProjects()\n    this.getActivity()\n    this.getTeams()\n    this.initRadar()\n  },\n  methods: {\n    ...mapGetters(['nickname', 'welcome']),\n    getProjects() {\n      this.$http.get('/list/search/projects')\n        .then(res => {\n          this.projects = res.result && res.result.data\n          this.loading = false\n        })\n    },\n    getActivity() {\n      this.$http.get('/workplace/activity')\n        .then(res => {\n          this.activities = res.result\n        })\n    },\n    getTeams() {\n      this.$http.get('/workplace/teams')\n        .then(res => {\n          this.teams = res.result\n        })\n    },\n    initRadar() {\n      this.radarLoading = true\n\n      this.$http.get('/workplace/radar')\n        .then(res => {\n          const dv = new DataSet.View().source(res.result)\n          dv.transform({\n            type: 'fold',\n            fields: ['个人', '团队', '部门'],\n            key: 'user',\n            value: 'score'\n          })\n\n          this.radarData = dv.rows\n          this.radarLoading = false\n        })\n    }\n  }\n}\n",{"version":3,"sources":["Homepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Homepage.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n\n  <div>\n    <a-row :gutter=\"24\">\n      <a-col :xl=\"24\" :lg=\"24\" :md=\"24\" :sm=\"24\" :xs=\"24\">\n\n        <!--首页横幅-->\n        <a-carousel arrows autoplay>\n          <!--左按钮-->\n          <div\n            slot=\"prevArrow\"\n            slot-scope=\"props\"\n            class=\"custom-slick-arrow\"\n            style=\"left: 10px;zIndex: 1\"\n          >\n            <a-icon type=\"left-circle\"/>\n          </div>\n          <!--右按钮-->\n          <div slot=\"nextArrow\" slot-scope=\"props\" class=\"custom-slick-arrow\" style=\"right: 10px\">\n            <a-icon type=\"right-circle\"/>\n          </div>\n          <!--滚动图片-->\n          <!--个人主页-->\n          <router-link :to=\"{name:'myPage'}\" >\n            <img src=\"../../assets/bg1.jpg\" alt=\"P1\" class=\"carousel-img\">\n          </router-link>\n          <!--心理测试-->\n          <router-link :to=\"{name:'ArticleList'}\" >\n            <img src=\"../../assets/bg2.jpg\" alt=\"P2\" class=\"carousel-img\">\n          </router-link>\n          <!--科普天地-->\n          <router-link :to=\"{name:'Psytest'}\" >\n            <img src=\"../../assets/bg3.jpg\" alt=\"P3\" class=\"carousel-img\">\n          </router-link>\n          <!---->\n          <router-link :to=\"{name:'treehole'}\" >\n            <img src=\"../../assets/bg4.jpg\" alt=\"P4\" class=\"carousel-img\">\n          </router-link>\n        </a-carousel>\n\n\n        <!--发现新鲜事-->\n        <a-card\n          class=\"project-list\"\n          style=\"margin-bottom: 24px; margin-top: 0px\"\n          :bordered=\"false\"\n          title=\"发现新鲜事\"\n          :body-style=\"{ padding: 0 }\">\n          <a-card>\n            <a-row :gutter=\"24\">\n              <a-col :md=\"24\" :lg=\"6\">\n                <a-card hoverable>\n                  <img\n                    alt=\"科普天地\"\n                    src=\"https://res.cloudinary.com/dwjmbwy0f/image/upload/v1577049809/psyche/175F1A13E92EFC616B3E7093E9F1C5DD_vu0xks.jpg\"\n                    slot=\"cover\"\n                  />\n                  <router-link :to=\"{name: 'ArticleList'}\" active-class=\"active\">\n                    <a-card-meta\n                      title=\"科普天地\"\n                      description=\"点击浏览最新资讯\">\n                    </a-card-meta>\n                  </router-link>\n                </a-card>\n              </a-col>\n              <a-col :md=\"24\" :lg=\"6\">\n                <a-card hoverable>\n                  <img\n                    alt=\"通知栏\"\n                    src=\"https://res.cloudinary.com/dwjmbwy0f/image/upload/v1577049826/psyche/17C958B070F0A6A8B2BFAA268F1C917C_ujnsmx.jpg\"\n                    slot=\"cover\"\n                  />\n                  <router-link :to=\"{name: 'NoteList'}\" active-class=\"active\">\n                    <a-card-meta\n                      title=\"通知栏\"\n                      description=\"点击查看通知\">\n                    </a-card-meta>\n                  </router-link>\n                </a-card>\n              </a-col>\n              <a-col :md=\"24\" :lg=\"6\">\n                <a-card hoverable>\n                  <img\n                    alt=\"心理咨询\"\n                    src=\"https://res.cloudinary.com/dwjmbwy0f/image/upload/v1577049660/psyche/396F3C7323E081617808A18D72B0F5DE_ohkxre.jpg\"\n                    slot=\"cover\"\n                  />\n                  <router-link :to=\"{name: 'teacher'}\" active-class=\"active\">\n                    <a-card-meta\n                      title=\"心理咨询\"\n                      description=\"点击预约心理医生\">\n                    </a-card-meta>\n                  </router-link>\n                </a-card>\n              </a-col>\n              <a-col :md=\"24\" :lg=\"6\">\n                <a-card hoverable>\n                  <img\n                    alt=\"心理测试\"\n                    src=\"https://res.cloudinary.com/dwjmbwy0f/image/upload/v1577050086/psyche/2A8FD3AD7E4B45B1E602453CE9EB6782_wcqcz7.jpg\"\n                    slot=\"cover\"\n                  />\n                  <router-link :to=\"{name: 'TestList'}\" active-class=\"active\">\n                    <a-card-meta\n                      title=\"心理测试\"\n                      description=\"测测你的内心\">\n                    </a-card-meta>\n                  </router-link>\n                </a-card>\n              </a-col>\n            </a-row>\n          </a-card>\n        </a-card>\n      </a-col>\n\n    </a-row>\n  </div>\n\n</template>\n\n<script>\n  import {timeFix} from '@/utils/util'\n  import {mapGetters} from 'vuex'\n\n  import {PageView} from '@/layouts'\n  import HeadInfo from '@/components/tools/HeadInfo'\n  import {Radar} from '@/components'\n\n  import {getRoleList, getServiceList} from '@/api/manage'\n\n  const DataSet = require('@antv/data-set')\n\n  export default {\n    name: 'Homepage',\n    components: {\n      PageView,\n      HeadInfo,\n      Radar\n    },\n    data() {\n      return {\n        timeFix: timeFix(),\n        avatar: '',\n        user: {},\n\n        projects: [],\n        loading: true,\n        radarLoading: true,\n        activities: [],\n        teams: [],\n\n      }\n    },\n    computed: {\n      userInfo() {\n        return this.$store.getters.userInfo\n      }\n    },\n    created() {\n      this.user = this.userInfo\n      this.avatar = this.userInfo.avatar\n\n      getRoleList().then(res => {\n        console.log('workplace -> call getRoleList()', res)\n      })\n\n      getServiceList().then(res => {\n        console.log('workplace -> call getServiceList()', res)\n      })\n    },\n    mounted() {\n      this.getProjects()\n      this.getActivity()\n      this.getTeams()\n      this.initRadar()\n    },\n    methods: {\n      ...mapGetters(['nickname', 'welcome']),\n      getProjects() {\n        this.$http.get('/list/search/projects')\n          .then(res => {\n            this.projects = res.result && res.result.data\n            this.loading = false\n          })\n      },\n      getActivity() {\n        this.$http.get('/workplace/activity')\n          .then(res => {\n            this.activities = res.result\n          })\n      },\n      getTeams() {\n        this.$http.get('/workplace/teams')\n          .then(res => {\n            this.teams = res.result\n          })\n      },\n      initRadar() {\n        this.radarLoading = true\n\n        this.$http.get('/workplace/radar')\n          .then(res => {\n            const dv = new DataSet.View().source(res.result)\n            dv.transform({\n              type: 'fold',\n              fields: ['个人', '团队', '部门'],\n              key: 'user',\n              value: 'score'\n            })\n\n            this.radarData = dv.rows\n            this.radarLoading = false\n          })\n      }\n    }\n  }\n</script>\n\n<style  scoped>\n\n  /*横幅图片格式*/\n  .carousel-img{\n    align:middle;\n    margin: 0 auto;\n  }\n\n\n  /* 首页横幅 */\n  .ant-carousel>>>.slick-slide {\n    text-align: center;\n    height: 320px;\n    line-height: 160px;\n    background: #364d79;\n    overflow: hidden;\n  }\n\n  .ant-carousel>>> .custom-slick-arrow {\n    width: 25px;\n    height: 25px;\n    font-size: 25px;\n    color: #fff;\n    background-color: rgba(31, 45, 61, 0.11);\n    opacity: 0.3;\n  }\n\n  .ant-carousel >>> .custom-slick-arrow:before {\n    display: none;\n  }\n\n  .ant-carousel >>> .custom-slick-arrow:hover {\n    opacity: 0.5;\n  }\n\n  .ant-carousel >>> .slick-slide h3 {\n    color: #fff;\n  }\n\n\n  .project-list {\n\n    .card-title {\n      font-size: 0;\n\n      a {\n        color: rgba(0, 0, 0, 0.85);\n        margin-left: 12px;\n        line-height: 24px;\n        height: 24px;\n        display: inline-block;\n        vertical-align: top;\n        font-size: 14px;\n\n        &:hover {\n          color: #1890ff;\n        }\n      }\n    }\n\n    .card-description {\n      color: rgba(0, 0, 0, 0.45);\n      height: 44px;\n      line-height: 22px;\n      overflow: hidden;\n    }\n\n    .project-item {\n      display: flex;\n      margin-top: 8px;\n      overflow: hidden;\n      font-size: 12px;\n      height: 20px;\n      line-height: 20px;\n\n      a {\n        color: rgba(0, 0, 0, 0.45);\n        display: inline-block;\n        flex: 1 1 0;\n\n        &:hover {\n          color: #1890ff;\n        }\n      }\n\n      .datetime {\n        color: rgba(0, 0, 0, 0.25);\n        flex: 0 0 auto;\n        float: right;\n      }\n    }\n\n    .ant-card-meta-description {\n      color: rgba(0, 0, 0, 0.45);\n      height: 44px;\n      line-height: 22px;\n      overflow: hidden;\n    }\n  }\n\n  .item-group {\n    padding: 20px 0 8px 24px;\n    font-size: 0;\n\n    a {\n      color: rgba(0, 0, 0, 0.65);\n      display: inline-block;\n      font-size: 14px;\n      margin-bottom: 13px;\n      width: 25%;\n    }\n  }\n\n  .members {\n    a {\n      display: block;\n      margin: 12px 0;\n      line-height: 24px;\n      height: 24px;\n\n      .member {\n        font-size: 14px;\n        color: rgba(0, 0, 0, .65);\n        line-height: 24px;\n        max-width: 100px;\n        vertical-align: top;\n        margin-left: 12px;\n        transition: all 0.3s;\n        display: inline-block;\n      }\n\n      &:hover {\n        span {\n          color: #1890ff;\n        }\n      }\n    }\n  }\n\n  .mobile {\n\n    .project-list {\n\n      .project-card-grid {\n        width: 100%;\n      }\n    }\n\n    .more-info {\n      border: 0;\n      padding-top: 16px;\n      margin: 16px 0 16px;\n    }\n\n    .headerContent .title .welcome-text {\n      display: none;\n    }\n  }\n\n</style>\n"]}]}