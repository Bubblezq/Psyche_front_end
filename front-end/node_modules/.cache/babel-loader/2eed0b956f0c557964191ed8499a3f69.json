{"remainingRequest":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\src\\views\\user\\MyPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\src\\views\\user\\MyPage.vue","mtime":1576607738821},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":1573725483614},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"C:\\Users\\Gavin Yu\\Desktop\\Gitproj\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["import _toConsumableArray from \"C:\\\\Users\\\\Gavin Yu\\\\Desktop\\\\Gitproj\\\\front-end\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\Gavin Yu\\\\Desktop\\\\Gitproj\\\\front-end\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"C:\\\\Users\\\\Gavin Yu\\\\Desktop\\\\Gitproj\\\\front-end\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _objectSpread2;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { STable } from '@/components';\nimport { PageView } from '@/layouts';\nimport Fuse from 'fuse.js';\nimport md5 from 'md5';\nimport ARow from \"ant-design-vue/es/grid/Row\";\nimport ACol from \"ant-design-vue/es/grid/Col\";\nimport { timeFix } from '@/utils/util';\nimport { mapGetters } from 'vuex';\nimport { Button } from 'ant-design-vue';\nimport HeadInfo from '@/components/tools/HeadInfo';\nimport { Radar } from '@/components';\nimport { getMyPost, getMyLike } from '@/api/myInfo';\nimport { deleteTreehole } from '@/api/Treehole';\nimport AFormItem from \"ant-design-vue/es/form/FormItem\";\nexport default {\n  components: {\n    AFormItem: AFormItem,\n    ACol: ACol,\n    ARow: ARow,\n    PageView: PageView,\n    Radar: Radar,\n    STable: STable\n  },\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      timeFix: timeFix(),\n      avatar: '',\n      user: {},\n      projects: [],\n      loading: true,\n      radarLoading: true,\n      activities: [],\n      teams: [],\n      old_password: '',\n      new_password: '',\n      form: this.$form.createForm(this),\n      showPasswordForm: false,\n      new_identity: {\n        id: '',\n        newPassword: ''\n      },\n      visible3: false,\n      postData: [],\n      likeData: [],\n      allPostData: [],\n      allLikeData: [],\n      totalPage1: '',\n      totalPage2: '',\n      current1: 1,\n      current2: 1\n    }, _defineProperty(_ref, \"loading\", true), _defineProperty(_ref, \"radarLoading\", true), _defineProperty(_ref, \"deleteInfo\", ''), _defineProperty(_ref, \"todelete\", ''), _defineProperty(_ref, \"confirmLoading\", false), _defineProperty(_ref, \"tabList\", [{\n      key: 'tab1',\n      // tab: 'tab1',\n      scopedSlots: {\n        tab: 'customRender'\n      }\n    }, {\n      key: 'tab2',\n      tab: 'tab2'\n    }]), _defineProperty(_ref, \"tabListNoTitle\", [{\n      key: '发帖',\n      tab: '发帖'\n    }, {\n      key: '收藏',\n      tab: '收藏'\n    }]), _defineProperty(_ref, \"key\", 'tab1'), _defineProperty(_ref, \"noTitleKey\", '发帖'), _ref;\n  },\n  computed: {\n    userInfo: function userInfo() {\n      return this.$store.getters.userInfo;\n    }\n  },\n  created: function created() {\n    this.user = this.$store.getters.userInfo;\n    this.avatar = this.userInfo.avatar;\n  },\n  methods: _objectSpread({}, mapGetters(['nickname', 'welcome']), (_objectSpread2 = {\n    cancelModifyPassword: function cancelModifyPassword() {\n      console.log('Cancel modify passsword');\n    },\n    modifyPassButton: function modifyPassButton() {\n      this.showPasswordForm = true;\n    }\n  }, _defineProperty(_objectSpread2, \"cancelModifyPassword\", function cancelModifyPassword() {\n    this.showPasswordForm = false;\n  }), _defineProperty(_objectSpread2, \"handleSubmit\", function handleSubmit(e) {\n    var _this = this;\n\n    e.preventDefault();\n    this.form.validateFields(function (err, value) {\n      if (!err) {\n        if (md5(value.old_password) === _this.userInfo.password) {\n          _this.new_identity.newPassword = md5(value.new_password);\n          _this.new_identity.id = _this.userInfo.id;\n          console.log(_this.new_identity);\n          modifyPassword(_this.new_identity).then(function () {\n            _this.$message.success('密码修改成功！');\n          });\n          console.log(\"Pass!\");\n        } else {\n          _this.$message.error('旧密码输入错误！');\n\n          console.log(\"Failed!\");\n        }\n      }\n    });\n    this.showPasswordForm = false;\n  }), _defineProperty(_objectSpread2, \"onClickCancel\", function onClickCancel() {\n    this.visible3 = false;\n  }), _defineProperty(_objectSpread2, \"onChange1\", function onChange1(current) {\n    var _this2 = this;\n\n    this.current1 = current;\n    getMyPost({\n      id: 1750000,\n      page: this.current1 - 1\n    }).then(function (response) {\n      console.log(response);\n      console.log(_this2.page);\n      _this2.allPostData = response.data;\n      _this2.postData = _this2.allPostData.list;\n      _this2.totalPage1 = _this2.allPostData.total;\n    });\n  }), _defineProperty(_objectSpread2, \"onChange2\", function onChange2(current) {\n    var _this3 = this;\n\n    this.current2 = current;\n    getMyLike(this.current2).then(function (response) {\n      console.log(response);\n      console.log(_this3.page);\n      _this3.allLikeData = response.data;\n      _this3.likeData = _this3.allLikeData.likeData;\n      _this3.totalPage2 = _this3.allLikeData.total; //总页数\n    });\n  }), _defineProperty(_objectSpread2, \"onClickDelete\", function onClickDelete(id) {\n    console.log(id);\n    this.todelete = id;\n    this.visible3 = true;\n  }), _defineProperty(_objectSpread2, \"onClickDeleteRow\", function onClickDeleteRow() {\n    var _this4 = this;\n\n    var h = this.$createElement;\n    this.visible3 = false;\n    deleteTreehole(this.todelete).then(function (response) {\n      _this4.deleteInfo = response.info;\n\n      if (_this4.deleteInfo === 'ok') {\n        _this4.sfData = _toConsumableArray(response.data);\n        _this4.sfDataShow = _this4.sfData;\n\n        _this4.$notification.open({\n          message: '删除成功',\n          description: '本条发帖信息删除成功',\n          icon: h(\"a-icon\", {\n            \"attrs\": {\n              \"type\": \"check\"\n            },\n            \"style\": \"color: #108ee9\"\n          })\n        });\n      } else {\n        _this4.$notification.open({\n          message: '删除失败',\n          description: '本条发帖信息删除失败',\n          icon: h(\"a-icon\", {\n            \"attrs\": {\n              \"type\": \"warning\"\n            },\n            \"style\": \"color: #108ee9\"\n          })\n        });\n      }\n    });\n  }), _objectSpread2)),\n  mounted: function mounted() {\n    var _this5 = this;\n\n    console.log(this.$store.getters.userInfo);\n    getMyPost({\n      id: 1750000,\n      page: this.current1 - 1\n    }).then(function (response) {\n      console.log(response);\n      console.log(_this5.page);\n      _this5.allPostData = response.data;\n      _this5.postData = _this5.allPostData.list;\n      _this5.totalPage1 = _this5.allPostData.total;\n    }), getMyLike({\n      id: userInfo.id,\n      page: this.current2 - 1\n    }).then(function (response) {\n      console.log(response);\n      console.log(_this5.page);\n      _this5.allLikeData = response.data;\n      _this5.likeData = _this5.allLikeData.likeData;\n      _this5.totalPage2 = _this5.allLikeData.totalPage; //总页数\n    });\n  }\n};",{"version":3,"sources":["MyPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <page-view :avatar=\"userInfo.headPortrait\" :title=\"false\">\n    <div slot=\"headerContent\">\n      <div class=\"title\">{{ timeFix }}，{{ user.name }}！</div>\n    </div>\n    <a-row :gutter=\"24\">\n      <!--个人信息-->\n        <a-col\n          style=\"padding: 0 12px\"\n          :xl=\"8\"\n          :lg=\"24\"\n          :md=\"24\"\n          :sm=\"24\"\n          :xs=\"24\">\n          <!--个人信息-->\n          <a-card\n            style=\"margin-bottom: 24px; margin-top: 0px\"\n            :bordered=\"false\"\n            title=\"个人信息\"\n            :body-style=\"{ padding: 0 }\">\n            <a-card>\n              <a-row style=\"margin-bottom: 12px\">\n                <a-icon type=\"idcard\" theme=\"twoTone\" twoToneColor=\"#3A5FCD\"/>\n                <strong> 学号：</strong>\n                {{ userInfo.id }}\n              </a-row>\n              <a-row style=\"margin-bottom: 12px\">\n                <a-icon type=\"tag\" theme=\"twoTone\" twoToneColor=\"#3A5FCD\"/>\n                <strong> 姓名：</strong>\n                {{ userInfo.name }}\n              </a-row>\n              <a-row style=\"margin-bottom: 12px\">\n                <a-icon type=\"tag\" theme=\"twoTone\" twoToneColor=\"#3A5FCD\"/>\n                <strong> 昵称：</strong>\n                {{ userInfo.nickName }}\n              </a-row>\n            </a-card>\n          </a-card>\n          <!--密码修改-->\n          <div>\n            <a-row style=\"text-align: center\">\n              <a-button @click=\"modifyPassButton\" type=\"primary\" icon=\"lock\"> 修改密码</a-button>\n              <a-modal v-model=\"showPasswordForm\" footer=\"\">\n                <a-form title=\"修改密码\" @submit=\"handleSubmit\" :form=\"form\">\n                  <a-form-item\n                    :wrapperCol=\"{ span: 24 }\"\n                    style=\"text-align: center\"\n                  >\n                    <h3>修改密码</h3>\n                  </a-form-item>\n                  <a-form-item\n                    label=\"旧密码\"\n                    :labelCol=\"{lg: {span: 7}, sm: {span: 7}}\"\n                    :wrapperCol=\"{lg: {span: 10}, sm: {span: 17} }\">\n                    <a-input\n                      type=\"password\"\n                      v-decorator=\"[\n            'old_password',\n            {rules: [{ required: true, message: '请输入旧的密码' }]}\n          ]\"\n                      name=\"old_password\"\n                      placeholder=\"请输入旧的密码\"/>\n                  </a-form-item>\n                  <a-form-item\n                    label=\"新密码\"\n                    :labelCol=\"{lg: {span: 7}, sm: {span: 7}}\"\n                    :wrapperCol=\"{lg: {span: 10}, sm: {span: 17} }\">\n                    <a-input\n                      type=\"password\"\n                      v-decorator=\"[\n            'new_password',\n            {rules: [{ required: true, message: '请输入新的密码' }]}\n          ]\"\n                      name=\"new_password\"\n                      placeholder=\"请输入新的密码\"/>\n                  </a-form-item>\n                  <a-form-item\n                    :wrapperCol=\"{ span: 24 }\"\n                    style=\"text-align: center\"\n                  >\n                    <a-button htmlType=\"submit\" type=\"primary\">提交</a-button>\n                    <a-button style=\"margin-left: 8px\" @click=\"cancelModifyPassword\">取消</a-button>\n                  </a-form-item>\n\n                </a-form>\n              </a-modal>\n            </a-row>\n          </div>\n        </a-col>\n      <a-col :xl=\"16\" :lg=\"24\" :md=\"24\" :sm=\"24\" :xs=\"24\">\n        <a-card\n          style=\"width:100%\"\n          :tabList=\"tabListNoTitle\"\n          :activeTabKey=\"noTitleKey\"\n          @tabChange=\"key => onTabChange(key, 'noTitleKey')\"\n        >\n      <template v-if=\"noTitleKey === '发帖'\">\n        <a-list :dataSource=\"postData\">\n          <a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\n             <a slot=\"actions\" @click=\"onClickDelete(item.id)\">删除</a>\n             <a-modal\n                title=\"确认删除\"\n                :visible=\"visible3\"\n                @ok=\"onClickDeleteRow\"\n                @cancel=\"onClickCancel\"\n             >\n             <div class=\"modal\">\n                是否删除本条帖子\n             </div>\n             </a-modal>\n              <a-list-item-meta :title='item.title'>\n                <a-avatar\n                  width=\"72\"\n                  slot=\"avatar\"\n                  :src=\"item.headPortrait\"\n                />\n                <div slot=\"description\">\n                  <ellipsis :length=\"70\">{{ item.content }}</ellipsis>\n                </div>\n                </br>\n                <div slot=\"description\">\n                  <ellipsis :length=\"70\">{{ item.sendTime }}</ellipsis>\n                </div>\n\n              </a-list-item-meta>\n              <div>\n                 <router-link :to=\"{ name: 'postDetail', params:{ id: item.id} }\">帖子详情</router-link>\n              </div>\n          </a-list-item>\n        </a-list>\n        <div style=\"margin-top:20px\">\n          <a-pagination @change=\"onChange1\" :current=\"current\" :total=\"(totalPage1+1)*10\" />\n        </div>\n      </template>\n      <template v-else=\"noTitleKey === '收藏'\">\n        <a-list :dataSource=\"likeData\">\n          <a-list-item>\n            <a-card :bordered=\"false\" style=\"width:100%\">\n              <a-card-meta title=\"item.title\">\n                <img style=\"width:100px\"\n                   slot=\"avatar\"\n                   :src=\"item.image\"\n                 />\n              </a-card-meta>\n            </a-card>\n          </a-list-item>\n        </a-list>\n        <div style=\"margin-top:20px\">\n          <a-pagination @change=\"onChange2\" :current=\"current\" :total=\"(totalPage2+1)*10\" />\n        </div>\n      </template>\n       </a-card>\n       </a-card>\n      </a-col>\n    </a-row>\n  </page-view>\n</template>\n\n<script>\nimport { STable } from '@/components'\nimport { PageView } from '@/layouts'\nimport Fuse from 'fuse.js'\nimport md5 from 'md5'\nimport ARow from \"ant-design-vue/es/grid/Row\";\nimport ACol from \"ant-design-vue/es/grid/Col\";\nimport {timeFix} from '@/utils/util'\nimport {mapGetters} from 'vuex'\nimport {Button} from 'ant-design-vue'\nimport HeadInfo from '@/components/tools/HeadInfo'\nimport {Radar} from '@/components'\nimport {getMyPost, getMyLike} from '@/api/myInfo'\nimport {deleteTreehole} from '@/api/Treehole'\nimport AFormItem from \"ant-design-vue/es/form/FormItem\";\n\nexport default {\n    components: {\n        AFormItem,\n        ACol,\n        ARow,\n        PageView,\n        Radar,\n        STable,\n      },\n    data() {\n      return {\n        timeFix: timeFix(),\n        avatar: '',\n        user: {},\n        projects: [],\n        loading: true,\n        radarLoading: true,\n        activities: [],\n        teams: [],\n        old_password: '',\n        new_password: '',\n        form: this.$form.createForm(this),\n        showPasswordForm: false,\n        new_identity: {\n          id: '',\n          newPassword: '',\n        },\n        visible3: false,\n        postData: [],\n        likeData: [],\n        allPostData: [],\n        allLikeData: [],\n        totalPage1: '',\n        totalPage2: '',\n        current1: 1,\n        current2: 1,\n        loading: true,\n        radarLoading: true,\n        deleteInfo:'',\n        todelete:'',\n        confirmLoading: false,\n          //userInfo:this.$store.getters.userInfo,\n\n        tabList: [\n          {\n            key: 'tab1',\n            // tab: 'tab1',\n            scopedSlots: { tab: 'customRender' },\n          },\n          {\n            key: 'tab2',\n            tab: 'tab2',\n          },\n        ],\n        tabListNoTitle: [\n          {\n            key: '发帖',\n            tab: '发帖',\n          },\n          {\n            key: '收藏',\n            tab: '收藏',\n          },\n        ],\n        key: 'tab1',\n        noTitleKey: '发帖',\n      };\n    },\n    computed: {\n      userInfo() {\n        return this.$store.getters.userInfo\n      }\n    },\n    created() {\n      this.user = this.$store.getters.userInfo\n      this.avatar = this.userInfo.avatar\n    },\n    methods: {\n      ...mapGetters(['nickname', 'welcome']),\n      cancelModifyPassword() {\n        console.log('Cancel modify passsword')\n      },\n      modifyPassButton() {\n        this.showPasswordForm = true;\n      },\n      cancelModifyPassword() {\n        this.showPasswordForm = false;\n      },\n      handleSubmit(e) {\n        e.preventDefault()\n        this.form.validateFields((err, value) => {\n          if (!err) {\n            if (md5(value.old_password) === this.userInfo.password) {\n              this.new_identity.newPassword = md5(value.new_password)\n              this.new_identity.id = this.userInfo.id\n              console.log(this.new_identity)\n              modifyPassword(this.new_identity).then(() => {\n                this.$message.success('密码修改成功！')\n              })\n              console.log(\"Pass!\")\n            } else {\n              this.$message.error('旧密码输入错误！')\n              console.log(\"Failed!\")\n            }\n          }\n        })\n        this.showPasswordForm = false;\n      },\n      onClickCancel(){\n        this.visible3=false;\n      },\n      onChange1(current){\n        this.current1=current;\n          getMyPost({id:1750000,page:(this.current1-1)}).then((response)=>{\n              console.log(response);\n              console.log(this.page);\n              this.allPostData=response.data;\n              this.postData=this.allPostData.list;\n              this.totalPage1=this.allPostData.total\n\n          })\n     },\n     onChange2(current){\n        this.current2=current;\n        getMyLike(this.current2).then((response)=>{\n          console.log(response);\n          console.log(this.page);\n          this.allLikeData=response.data;\n          this.likeData=this.allLikeData.likeData;\n          this.totalPage2=this.allLikeData.total //总页数\n      })\n     },\n     onClickDelete (id) {\n        console.log(id)\n        this.todelete = id\n        this.visible3 = true;\n      },\n      onClickDeleteRow () {\n        this.visible3 = false\n        deleteTreehole(this.todelete).then((response) => {\n        this.deleteInfo = response.info\n        if(this.deleteInfo === 'ok'){\n          this.sfData = [...response.data]\n          this.sfDataShow = this.sfData\n          this.$notification.open({\n          message: '删除成功',\n          description: '本条发帖信息删除成功',\n          icon: <a-icon type=\"check\" style=\"color: #108ee9\" />,\n        });\n        }\n        else{\n          this.$notification.open({\n          message: '删除失败',\n          description: '本条发帖信息删除失败',\n          icon: <a-icon type=\"warning\" style=\"color: #108ee9\" />,\n        });\n        }\n      })\n      },\n    },\n    mounted(){\n      console.log(this.$store.getters.userInfo)\n      getMyPost({id:1750000,page:(this.current1-1)}).then((response)=>{\n        console.log(response);\n        console.log(this.page);\n        this.allPostData=response.data;\n        this.postData=this.allPostData.list;\n        this.totalPage1=this.allPostData.total\n\n      }),\n      getMyLike({id:userInfo.id,page:(this.current2-1)}).then((response)=>{\n        console.log(response);\n        console.log(this.page);\n        this.allLikeData=response.data;\n        this.likeData=this.allLikeData.likeData;\n        this.totalPage2=this.allLikeData.totalPage //总页数\n      })\n    }\n}\n\n</script>\n\n<style lang=\"less\" scoped>\n.addButton{\n    position: absolute;\n    z-index: 999;\n    right:1em;\n    top:0em;\n  }\n</style>"],"sourceRoot":"src/views/user"}]}